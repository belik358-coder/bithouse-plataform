<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BitHouse | Inmobiliaria Crypto México</title>
    <meta name="description" content="La primera inmobiliaria en CDMX que acepta Bitcoin y Criptomonedas. Compra propiedades en Roma, Condesa y Polanco con seguridad jurídica.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Leaflet CSS (Mapa) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Configuración Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#0f172a', // Slate 900 - Fondo Principal
                            accent: '#3b82f6', // Blue 500 - Botones/Detalles
                            crypto: '#f59e0b', // Amber 500 - Color Bitcoin
                            eth: '#627eea', // Color Ethereum
                            whatsapp: '#25D366', // Verde WhatsApp
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <style>
        /* Estilos del Mapa */
        #map {
            height: 600px;
            width: 100%;
            z-index: 10;
            border-radius: 0.75rem;
        }
        
        /* Efecto Cristal (Glassmorphism) */
        .glass-panel {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Scrollbar personalizado */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
        
        /* Ocultar scrollbar en listas horizontales */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-brand-dark text-white font-sans antialiased overflow-x-hidden selection:bg-brand-accent selection:text-white">

    <!-- BARRA DE NAVEGACIÓN -->
    <nav class="fixed w-full z-50 glass-panel border-b border-slate-800 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <!-- Logo -->
                <div class="flex items-center cursor-pointer" onclick="window.scrollTo(0,0)">
                    <div class="flex-shrink-0 flex items-center gap-2 hover:scale-105 transition transform">
                        <i class="fa-brands fa-bitcoin text-3xl text-brand-crypto"></i>
                        <span class="font-bold text-2xl tracking-tighter">Bit<span class="text-brand-accent">House</span></span>
                    </div>
                    <!-- Menú Desktop -->
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#map-section" class="bg-slate-800 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-slate-700 transition border border-transparent hover:border-slate-600">Propiedades</a>
                            <a href="#contacto" class="text-slate-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition">Vender</a>
                            <a href="#nosotros" class="text-slate-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition">Legal</a>
                        </div>
                    </div>
                </div>
                
                <!-- Ticker y Wallet -->
                <div class="hidden md:block">
                    <div class="flex items-center gap-6">
                        <div class="text-xs text-right text-slate-400 leading-tight border-r border-slate-700 pr-4">
                            <p>BTC/MXN: <span id="btc-ticker" class="text-green-400 font-mono font-bold transition-colors duration-500">$1,850,200</span></p>
                            <p>ETH/MXN: <span id="eth-ticker" class="text-green-400 font-mono font-bold transition-colors duration-500">$62,100</span></p>
                        </div>
                        <button onclick="alert('Próximamente: Conexión Web3 con MetaMask')" class="bg-brand-accent hover:bg-blue-600 text-white px-5 py-2 rounded-full text-sm font-bold transition shadow-lg shadow-blue-500/30 flex items-center gap-2 border border-blue-400/30 hover:scale-105">
                            <i class="fa-solid fa-wallet"></i> Conectar
                        </button>
                    </div>
                </div>
                
                <!-- Botón Móvil -->
                <div class="-mr-2 flex md:hidden">
                    <button type="button" class="bg-slate-800 inline-flex items-center justify-center p-2 rounded-md text-slate-400 hover:text-white hover:bg-slate-700 focus:outline-none">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- SECCIÓN HERO (PORTADA) -->
    <div class="relative pt-32 pb-16 sm:pt-40 sm:pb-24 overflow-hidden">
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 z-10 text-center">
            <div class="inline-block px-4 py-1 mb-6 rounded-full bg-slate-800/80 border border-brand-crypto/50 backdrop-blur-sm">
                <span class="text-brand-crypto text-xs font-bold tracking-wide uppercase flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    Ahora aceptando Bitcoin & USDT en CDMX
                </span>
            </div>
            <h1 class="text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl mb-6">
                <span class="block">Tu patrimonio seguro</span>
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-brand-crypto via-yellow-200 to-brand-accent">Respaldado en Blockchain</span>
            </h1>
            <p class="mt-3 max-w-md mx-auto text-base text-slate-400 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl leading-relaxed">
                La primera inmobiliaria híbrida de México. Gestionamos la compraventa de tu propiedad con la velocidad de las criptomonedas y la certeza legal de una notaría.
            </p>
            <div class="mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center gap-4">
                <a href="#map-section" class="flex items-center justify-center px-8 py-4 border border-transparent text-base font-bold rounded-xl text-slate-900 bg-brand-crypto hover:bg-yellow-400 transition shadow-[0_0_25px_rgba(245,158,11,0.4)] hover:shadow-[0_0_35px_rgba(245,158,11,0.6)] transform hover:-translate-y-1">
                    <i class="fa-solid fa-magnifying-glass mr-2"></i> Buscar Propiedad
                </a>
                <a href="#contacto" class="flex items-center justify-center px-8 py-4 border border-slate-600 text-base font-bold rounded-xl text-white bg-slate-800/50 hover:bg-slate-800 transition transform hover:-translate-y-1 backdrop-blur-sm">
                    Asesoría Legal Gratuita
                </a>
            </div>
        </div>
        
        <!-- Elementos de Fondo (Gradiente) -->
        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-full h-full z-0 opacity-20 pointer-events-none">
             <svg class="absolute top-0 left-0 w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
                <path d="M0 100 L100 0 L100 100 Z" fill="url(#grad1)" />
                <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#0f172a;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
                    </linearGradient>
                </defs>
            </svg>
        </div>
    </div>

    <!-- SECCIÓN MAPA INTERACTIVO -->
    <div id="map-section" class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 scroll-mt-24">
        <div class="flex flex-col lg:flex-row gap-6">
            
            <!-- Panel Lateral (Lista de Propiedades) -->
            <div class="w-full lg:w-1/3 order-2 lg:order-1">
                <div class="mb-4 flex items-center justify-between">
                    <h2 class="text-2xl font-bold text-white">Mercado en Vivo</h2>
                    <div class="flex gap-2 items-center px-3 py-1 bg-slate-800 rounded-full border border-slate-700">
                        <span class="w-2 h-2 rounded-full bg-red-500 animate-pulse-fast"></span>
                        <span class="text-xs text-slate-300 font-mono">LIVE FEED</span>
                    </div>
                </div>
                
                <!-- Filtros -->
                <div class="flex gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide">
                    <button class="px-4 py-2 rounded-full bg-brand-accent text-white text-xs font-bold whitespace-nowrap hover:bg-blue-600 transition shadow-lg shadow-blue-900/50">Todas</button>
                    <button class="px-4 py-2 rounded-full bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold whitespace-nowrap border border-slate-700 transition">Roma Norte</button>
                    <button class="px-4 py-2 rounded-full bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold whitespace-nowrap border border-slate-700 transition">Polanco</button>
                    <button class="px-4 py-2 rounded-full bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold whitespace-nowrap border border-slate-700 transition">Condesa</button>
                </div>

                <!-- Lista de Cards (Inyectadas por JS) -->
                <div id="property-list" class="space-y-4 h-[550px] overflow-y-auto pr-2 custom-scrollbar">
                    <!-- El JavaScript llenará esto -->
                </div>
            </div>

            <!-- Mapa -->
            <div class="w-full lg:w-2/3 order-1 lg:order-2 relative group">
                <div id="map" class="border-2 border-slate-700 shadow-2xl shadow-brand-accent/10 group-hover:border-brand-accent transition-colors duration-300 rounded-xl overflow-hidden"></div>
                <!-- Overlay Informativo -->
                <div class="absolute bottom-4 left-4 bg-slate-900/90 backdrop-blur p-3 rounded-lg border border-slate-700 z-[400] text-xs text-slate-400 hidden sm:block">
                    <i class="fa-solid fa-mouse-pointer mr-1"></i> Haz clic en los puntos azules
                </div>
            </div>
        </div>
    </div>

    <!-- SECCIÓN CARACTERÍSTICAS (TRUST) -->
    <div id="nosotros" class="bg-slate-900 py-16 border-t border-slate-800 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-base text-brand-accent font-bold tracking-wide uppercase">Ecosistema BitHouse</h2>
                <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl">
                    Más que una inmobiliaria, un protocolo de seguridad.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="p-6 bg-slate-800/50 rounded-2xl border border-slate-700 hover:border-brand-crypto transition duration-300 hover:bg-slate-800 group">
                    <div class="w-12 h-12 bg-brand-crypto/20 rounded-lg flex items-center justify-center mb-4 group-hover:bg-brand-crypto transition">
                        <i class="fa-solid fa-scale-balanced text-2xl text-brand-crypto group-hover:text-slate-900"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Certeza Jurídica</h3>
                    <p class="text-slate-400 text-sm">Todas las operaciones se escrituran ante Notario Público en México, cumpliendo al 100% con la Ley Antilavado.</p>
                </div>
                <!-- Feature 2 -->
                <div class="p-6 bg-slate-800/50 rounded-2xl border border-slate-700 hover:border-brand-accent transition duration-300 hover:bg-slate-800 group">
                    <div class="w-12 h-12 bg-brand-accent/20 rounded-lg flex items-center justify-center mb-4 group-hover:bg-brand-accent transition">
                        <i class="fa-solid fa-bolt text-2xl text-brand-accent group-hover:text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Velocidad Blockchain</h3>
                    <p class="text-slate-400 text-sm">Olvídate de transferencias bancarias lentas. Liquida tu propiedad en minutos usando BTC, ETH o USDT.</p>
                </div>
                <!-- Feature 3 -->
                <div class="p-6 bg-slate-800/50 rounded-2xl border border-slate-700 hover:border-purple-500 transition duration-300 hover:bg-slate-800 group">
                    <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition">
                        <i class="fa-solid fa-vr-cardboard text-2xl text-purple-400 group-hover:text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Tech-First</h3>
                    <p class="text-slate-400 text-sm">Próximamente: Recorridos VR y tokenización de activos. El futuro del Real Estate empieza aquí.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- FORMULARIO DE CONTACTO (CRM) -->
    <div id="contacto" class="max-w-4xl mx-auto px-4 py-24 scroll-mt-20">
        <div class="glass-panel rounded-3xl p-8 md:p-12 border border-slate-700 relative overflow-hidden shadow-2xl">
            <!-- Decoración de fondo -->
            <div class="absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-brand-accent rounded-full opacity-10 blur-3xl pointer-events-none"></div>
            <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-64 h-64 bg-brand-crypto rounded-full opacity-10 blur-3xl pointer-events-none"></div>

            <div class="relative z-10">
                <h2 class="text-3xl font-bold text-white mb-2">Servicio Concierge VIP</h2>
                <p class="text-slate-400 mb-8">Agenda una videollamada privada con un experto legal y financiero. Sin bots, sin esperas.</p>

                <form class="grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8" onsubmit="event.preventDefault(); alert('Gracias. Tus datos han sido enviados a nuestro CRM seguro. Te contactaremos en menos de 2 horas.');">
                    <div>
                        <label for="first-name" class="block text-sm font-medium text-slate-300 mb-1">Nombre</label>
                        <input type="text" name="first-name" id="first-name" placeholder="Ej. Roberto G." class="block w-full bg-slate-900/50 border border-slate-600 rounded-lg py-3 px-4 text-white focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition shadow-inner placeholder-slate-600" required>
                    </div>
                    <div>
                        <label for="phone" class="block text-sm font-medium text-slate-300 mb-1">WhatsApp</label>
                        <input type="tel" name="phone" id="phone" placeholder="+52 55..." class="block w-full bg-slate-900/50 border border-slate-600 rounded-lg py-3 px-4 text-white focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition shadow-inner placeholder-slate-600" required>
                    </div>
                    <div class="sm:col-span-2">
                        <label for="interest" class="block text-sm font-medium text-slate-300 mb-1">¿Cómo podemos ayudarte?</label>
                        <select id="interest" name="interest" class="block w-full bg-slate-900/50 border border-slate-600 rounded-lg py-3 px-4 text-white focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition shadow-inner cursor-pointer">
                            <option>Tengo Bitcoin y quiero invertir en Real Estate</option>
                            <option>Quiero vender mi propiedad a mercado extranjero</option>
                            <option>Busco asesoría legal sobre Ley Antilavado</option>
                        </select>
                    </div>
                    <div class="sm:col-span-2 pt-4">
                        <button type="submit" class="w-full inline-flex items-center justify-center px-6 py-4 border border-transparent rounded-xl shadow-lg shadow-blue-900/40 text-base font-bold text-white bg-gradient-to-r from-brand-accent to-blue-600 hover:from-blue-400 hover:to-brand-accent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition transform hover:-translate-y-1">
                            Solicitar Atención Prioritaria
                        </button>
                    </div>
                </form>
                <p class="mt-4 text-xs text-slate-500 text-center">
                    <i class="fa-solid fa-lock mr-1"></i> Tus datos están protegidos y encriptados. Cumplimos con la Ley de Protección de Datos Personales.
                </p>
            </div>
        </div>
    </div>

    <!-- BOTÓN DE WHATSAPP FLOTANTE -->
    <!-- NOTA: Cambia el número '525500000000' por tu número real de WhatsApp Business -->
    <a href="https://wa.me/525500000000?text=Hola%20BitHouse,%20me%20interesa%20información%20sobre%20una%20propiedad" target="_blank" class="fixed bottom-6 right-6 z-[100] flex items-center gap-2 group">
        <div class="bg-white text-slate-900 px-4 py-2 rounded-lg shadow-lg text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block transform translate-x-2 group-hover:translate-x-0">
            ¿Dudas? Habla con un experto
        </div>
        <div class="bg-brand-whatsapp w-14 h-14 rounded-full flex items-center justify-center shadow-xl hover:bg-green-500 transition transform hover:scale-110 animate-bounce-slow ring-4 ring-green-900/30">
            <i class="fa-brands fa-whatsapp text-3xl text-white"></i>
        </div>
    </a>

    <!-- FOOTER -->
    <footer class="bg-slate-950 border-t border-slate-900 py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="col-span-1 md:col-span-2">
                <div class="flex items-center gap-2 mb-4">
                    <i class="fa-brands fa-bitcoin text-2xl text-brand-crypto"></i>
                    <span class="font-bold text-xl text-white">Bit<span class="text-brand-accent">House</span></span>
                </div>
                <p class="text-slate-500 text-sm max-w-sm leading-relaxed">
                    Revolucionando el mercado inmobiliario en México a través de la tecnología blockchain. Transparencia, velocidad y seguridad.
                </p>
                <div class="flex gap-4 mt-6">
                    <a href="#" class="text-slate-400 hover:text-white transition"><i class="fa-brands fa-instagram text-xl"></i></a>
                    <a href="#" class="text-slate-400 hover:text-white transition"><i class="fa-brands fa-twitter text-xl"></i></a>
                    <a href="#" class="text-slate-400 hover:text-white transition"><i class="fa-brands fa-linkedin text-xl"></i></a>
                </div>
            </div>
            <div>
                <h3 class="text-white font-bold mb-4 uppercase text-xs tracking-wider">Legal</h3>
                <ul class="space-y-2 text-sm text-slate-400">
                    <li><a href="#" class="hover:text-brand-accent transition">Términos y Condiciones</a></li>
                    <li><a href="#" class="hover:text-brand-accent transition">Aviso de Privacidad</a></li>
                    <li><a href="#" class="hover:text-brand-accent transition">Cumplimiento LFPIORPI</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-white font-bold mb-4 uppercase text-xs tracking-wider">Contacto</h3>
                <ul class="space-y-2 text-sm text-slate-400">
                    <li class="flex items-start gap-2"><i class="fa-solid fa-location-dot mt-1 text-brand-accent"></i> Roma Norte, CDMX</li>
                    <li class="flex items-center gap-2"><i class="fa-solid fa-envelope text-brand-accent"></i> concierge@bithouse.mx</li>
                </ul>
            </div>
        </div>
        <div class="max-w-7xl mx-auto mt-12 pt-8 border-t border-slate-900 text-center text-xs text-slate-600">
            &copy; 2025 BitHouse S.A.P.I. de C.V. Todos los derechos reservados.
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- LÓGICA JAVASCRIPT -->
    <script>
        // --- 1. DATOS DE EJEMPLO (INVENTARIO) ---
        const properties = [
            {
                id: 'P-001',
                title: 'Loft Industrial Roma Norte',
                location: 'Roma Norte, Cuauhtémoc',
                priceMXN: 5500000,
                coords: [19.4195, -99.1625],
                image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?auto=format&fit=crop&w=600&q=80',
                badges: ['BTC', 'ETH']
            },
            {
                id: 'P-002',
                title: 'Penthouse Polanco Vistas',
                location: 'Polanco IV Secc, Miguel Hidalgo',
                priceMXN: 18200000,
                coords: [19.4350, -99.1950],
                image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=600&q=80',
                badges: ['BTC']
            },
            {
                id: 'P-003',
                title: 'Casa Restaurada Condesa',
                location: 'Hipódromo Condesa, Cuauhtémoc',
                priceMXN: 12500000,
                coords: [19.4100, -99.1700],
                image: 'https://images.unsplash.com/photo-1600596542815-205db241311c?auto=format&fit=crop&w=600&q=80',
                badges: ['ETH', 'USDT']
            },
             {
                id: 'P-004',
                title: 'Smart Home Reforma',
                location: 'Paseo de la Reforma, Juárez',
                priceMXN: 8900000,
                coords: [19.4270, -99.1670],
                image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=600&q=80',
                badges: ['BTC', 'USDT']
            }
        ];

        // --- 2. LÓGICA CRYPTO ---
        let exchangeRates = { BTC: 1850200, ETH: 62100 }; // Valor inicial base

        function formatMoney(amount) {
            return '$' + amount.toLocaleString('es-MX');
        }

        function calculateCrypto(priceMXN, crypto) {
            const val = priceMXN / exchangeRates[crypto];
            return val.toFixed(4);
        }

        // --- 3. INICIALIZACIÓN DE MAPA ---
        const map = L.map('map').setView([19.425, -99.17], 13);

        // Capa oscura (Dark Matter)
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 20
        }).addTo(map);

        // Icono personalizado (Punto Azul Neón)
        const houseIcon = L.divIcon({
            className: 'custom-div-icon',
            html: "<div class='relative'><div class='w-3 h-3 bg-blue-500 rounded-full border-2 border-white shadow-[0_0_10px_rgba(59,130,246,0.8)]'></div><div class='absolute top-0 left-0 w-3 h-3 bg-blue-500 rounded-full animate-ping opacity-75'></div></div>",
            iconSize: [12, 12],
            iconAnchor: [6, 6]
        });

        // --- 4. RENDERIZADO DE DATOS ---
        const listContainer = document.getElementById('property-list');

        properties.forEach(prop => {
            // A. Marcador en Mapa
            const marker = L.marker(prop.coords, { icon: houseIcon }).addTo(map);
            
            const popupContent = `
                <div class="text-slate-800 font-sans p-1">
                    <h3 class="font-bold text-sm mb-1">${prop.title}</h3>
                    <p class="text-xs text-slate-500 mb-1">${prop.location}</p>
                    <p class="text-sm font-bold text-blue-600">${formatMoney(prop.priceMXN)} MXN</p>
                </div>
            `;
            marker.bindPopup(popupContent);

            // B. Card en Lista Lateral
            const card = document.createElement('div');
            card.className = 'glass-panel p-3 rounded-xl flex gap-4 hover:bg-slate-800 transition-all duration-300 cursor-pointer border border-transparent hover:border-brand-accent group mb-3';
            card.innerHTML = `
                <div class="w-28 h-24 flex-shrink-0 rounded-lg overflow-hidden relative">
                    <img src="${prop.image}" class="w-full h-full object-cover group-hover:scale-110 transition duration-700" alt="${prop.title}">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent h-10"></div>
                </div>
                <div class="flex-1 flex flex-col justify-center">
                    <div class="flex justify-between items-start">
                        <h4 class="text-white font-bold text-sm leading-tight mb-1 group-hover:text-brand-accent transition">${prop.title}</h4>
                    </div>
                    <p class="text-slate-400 text-xs mb-2 truncate">${prop.location}</p>
                    
                    <div class="flex items-center justify-between mt-1">
                        <span class="text-white font-bold text-sm">${formatMoney(prop.priceMXN)}</span>
                        <div class="text-brand-crypto text-xs font-mono flex items-center gap-1 bg-slate-900/50 px-2 py-1 rounded">
                            <i class="fa-brands fa-bitcoin"></i> ${calculateCrypto(prop.priceMXN, 'BTC')}
                        </div>
                    </div>
                </div>
            `;
            
            // Interacción: Click en card -> Vuelo en mapa
            card.addEventListener('click', () => {
                // Resaltar card activa
                document.querySelectorAll('.glass-panel').forEach(c => c.classList.remove('border-brand-accent', 'bg-slate-800'));
                card.classList.add('border-brand-accent', 'bg-slate-800');

                map.flyTo(prop.coords, 16, {
                    animate: true,
                    duration: 1.5
                });
                setTimeout(() => marker.openPopup(), 1500);
            });

            listContainer.appendChild(card);
        });

        // --- 5. SIMULACIÓN TICKER (MERCADO VIVO) ---
        setInterval(() => {
            // Fluctuación aleatoria
            const btcFluctuation = (Math.random() - 0.5) * 1500;
            const ethFluctuation = (Math.random() - 0.5) * 200;
            
            exchangeRates.BTC += btcFluctuation;
            exchangeRates.ETH += ethFluctuation;
            
            // Actualizar Header
            const btcEl = document.getElementById('btc-ticker');
            const ethEl = document.getElementById('eth-ticker');
            
            btcEl.innerText = formatMoney(exchangeRates.BTC);
            ethEl.innerText = formatMoney(exchangeRates.ETH);
            
            // Efecto visual de cambio (Verde/Rojo)
            btcEl.classList.remove('text-green-400', 'text-red-400');
            btcEl.classList.add(btcFluctuation >= 0 ? 'text-green-400' : 'text-red-400');

        }, 3000);
    </script>
</body>
</html>